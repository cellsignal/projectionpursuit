Please refer to the **RUN_ME_APP_and_QFMatch.py** Python script or **RUN_ME_APP_and_QFMatch.sh** shell script.

Before running scripts please make sure to install Python dependencies using the **deps_python.sh** shell script for macOS or the **deps_python.cmd** script for Windows. You also may need to install the Visual Studio Command Line Tools and the Windows SDK before installing dependencies for Windows.

If running APP, dml_for_app, and QFMatch in sequence, note that QFMatch requires the some of intermediate files generated by APP, so they shouldn't be removed or renamed prior to QFMatch.

### The scripts were tested with the following Python versions:

Windows - Python 3.11.9
* As of July 2024, Windows can run with the latest version of all packages, with two exceptions:
  * ````phenograph```` must be set to version 1.5.3 due to an error caused by ````multiprocessing.pool````
  * ````numpy```` must be set to version 1.23.5 due to ````phenograph```` referencing a removed data type

macOS - Python 3.8 via homebrew:

````brew install python@3.8````

## Folder Description:

**APP** - the APP (Automated Projection Pursuit) Clustering group of scripts. 

**QFMatch_asymmetric** - the group of scripts that executes many clusters-to-one cluster (asymmetric) matching with QFMatch between the test set and training set results (here test and training sets is the same data file clustered with two different approaches) of the "dml_for_APP/dml_from_cmd.py" script, and further  visualizes the matching outcomes and computes the misclassification rate. 

**QFMatch_symmetric** - the group of scripts that executes many clusters-to-many cluster (symmetric) matching with QFMatch between the test set and training set results (here test and training sets is the same data file clustered with two different approaches) of the "dml_for_APP/dml_from_cmd.py" script, and further visualizes the matching outcomes and computes the misclassification rate.

**QFMatch_custom** - the script that executes many clusters-to-many cluster matching with QFMatch between
the test set and training set results (here test and training sets —Åould be two different data files) of the "dml_for_APP/dml_from_cmd.py" script.

**QFMatch_label_transfer** - the script that assigns labels to unlabeled test data based on labeled training data, then the consecutive script executes many clusters-to-one cluster (asymmetric) matching with QFMatch between the test set results of the first script and training set, and further visualizes the matching outcomes and computes the misclassification
rate.

**dml_for_APP** - the script utilizes distance metric learning with UMAP to project the unlabeled data (test) into the embeddings space built using labeled data (training). 

**dml_for_label_transfer** - the script that utilizes distance metric learning with UMAP to project
the unlabeled data (test) into the embeddings space built using labeled data (training) and assigns the labels to the test data with SVC clustering.

**test_data** - test data files.

## Output Folder Description:

**results:** This folder contains the resulting CSV files and run statistics TXT files generated by the APP.

**all_proj:** If the draw_all flag within the script is set to True, this folder will contain all the projections PNG files found by the APP. Otherwise, it will be empty.

**all_split:** Similar to **"all_proj"** this folder holds all the split PNG files found by the APP if the draw_all flag is set to True; otherwise, it remains empty.

**split:** This folder contains the split images used by the APP to create the resulting clusters.

**dml:** The resulting CSV files from the dml process are stored in this folder.

**png:** The PNG files resulting from the QFMatch process are stored in this folder.

**misclassification:** The QFMatch misclassification rate TXT files are located in this folder.

**match_result:** The CSV files containing the QFMatch match results are stored in this folder.

**run_stats:** The run statistics TXT files from the QFMatch are found in this folder.

**QFMatch:** The QFMatch label transfer results with assigned labels are located in this folder.
